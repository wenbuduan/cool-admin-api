import{_ as ge}from"./index-C0gTYXOo.js";import{L as ye,r as w,I as U,g3 as be,T as _e,g4 as ke,J as we,n as $,o as m,d as s,a7 as T,u as P,a6 as W,a1 as te,F as L,p as j,_ as Z,c as O,w as n,b as o,t as F,aD as Y,h as u,bE as $e,e as Ce,a5 as le,bF as ne,bJ as he,aJ as oe,E as Me,bh as Re}from"./index-Bq3ZSOYo.js";import{_ as J}from"./index-2J1hDmNs.js";import{a as ze,E as Ie}from"./col-B9sPyGkm.js";import{E as Se,a as De}from"./index-DIcstnUu.js";import"./throttle-5msVvc-i.js";function Ee(R,c,_){const p=_*(Math.PI/180),r=Math.cos(p),l=Math.sin(p),t=Math.abs(R*r)+Math.abs(c*l),C=Math.abs(R*l)+Math.abs(c*r);return{width:t,height:C}}const Le={src:String,markers:Array,contentStyle:Object,imageStyle:Object,zoomStep:{type:Number,default:10},zoomMin:{type:Number,default:20},zoomMax:{type:Number,default:400},rotateStep:{type:Number,default:90}},Ve={contentClick:R=>!0,contentContextmenu:R=>!0},Te=["src"],A=ye({name:"EleViewer",__name:"index",props:Le,emits:Ve,setup(R,{expose:c,emit:_}){const p=R,r=_,l=w(null),t=w(null),C=w(null),y=w(!1),f=w(0),i=w(0),e=w(100),v=w(!1),h=w(!1),b=w(0),k=U(()=>{const a=v.value?-1:1,x=h.value?-1:1;return`scaleX(${a}) scaleY(${x}) rotate(${b.value}deg)`}),d=U(()=>(100/e.value).toFixed(6)),I=U(()=>{const a=v.value?-1:1,x=h.value?-1:1;return`scaleX(${a}) scaleY(${x}) rotate(${360-b.value}deg)`}),z=a=>{r("contentClick",a)},E=a=>{r("contentContextmenu",a)},B=()=>{H()},q=()=>p.zoomStep,G=()=>{e.value>=p.zoomMax||(e.value+=q())},K=()=>{e.value<=p.zoomMin||(e.value-=q())},se=()=>{v.value=!v.value},ae=()=>{h.value=!h.value},ie=()=>{if(b.value===0){b.value=360-p.rotateStep;return}if(b.value<=p.rotateStep){b.value=0;return}b.value-=p.rotateStep},re=()=>{if(b.value>=360-p.rotateStep){b.value=0;return}b.value+=p.rotateStep},de=a=>{f.value=a},ue=a=>{i.value=a},H=()=>{const a=l.value,x=(a==null?void 0:a.offsetWidth)||0,g=(a==null?void 0:a.offsetHeight)||0,M=t.value,S=(M==null?void 0:M.offsetWidth)||0,D=(M==null?void 0:M.offsetHeight)||0;f.value=Math.floor((x-S)/2),i.value=Math.floor((g-D)/2);const{width:V,height:xe}=Ee(S,D,b.value);e.value=Math.min(x/V*100,g/xe*100)},pe=()=>{const a=l.value,x=(a==null?void 0:a.offsetWidth)||0,g=(a==null?void 0:a.offsetHeight)||0,M=t.value,S=(M==null?void 0:M.offsetWidth)||0,D=(M==null?void 0:M.offsetHeight)||0;e.value=x/S*100;const V=D*(e.value/100);f.value=Math.floor((x-S)/2),V<g?i.value=Math.floor((g-D)/2):i.value=Math.floor((V-D)/2)},fe=()=>{const a=l.value,x=(a==null?void 0:a.offsetWidth)||0,g=(a==null?void 0:a.offsetHeight)||0,M=t.value,S=(M==null?void 0:M.offsetWidth)||0,D=(M==null?void 0:M.offsetHeight)||0;e.value=g/D*100;const V=S*(e.value/100);V<x?f.value=Math.floor((x-S)/2):f.value=Math.floor((V-S)/2),i.value=Math.floor((g-D)/2)},ve=()=>{v.value=!1,h.value=!1,b.value=0,H()};let N=null,X=null;const{handleMousedown:Q,handleTouchstart:ee}=be({start:({e:a})=>{a.preventDefault(),a.stopPropagation(),y.value=!0,N=f.value,X=i.value},move:({distanceX:a,distanceY:x,e:g})=>{N==null||X==null||a==null||x==null||(g.preventDefault(),g.stopPropagation(),f.value=Math.floor(a+N),i.value=Math.floor(x+X))},end:()=>{N=null,X=null,y.value=!1},touchmoveOptions:{passive:!1}}),{bindMousewheel:ce,unbindMousewheel:me}=ke(({e:a,direction:x})=>{if(a.preventDefault(),a.stopPropagation(),x==="up"){G();return}K()});return _e(()=>{l.value&&ce(l.value),H()}),we(()=>{l.value&&me(l.value)}),c({viewerMoving:y,viewerTranslateX:f,viewerTranslateY:i,viewerScale:e,viewerFlipX:v,viewerFlipY:h,viewerRotate:b,zoomIn:G,zoomOut:K,flipX:se,flipY:ae,rotateLeft:ie,rotateRight:re,setTranslateX:de,setTranslateY:ue,autoIntoView:H,autoIntoViewWidth:pe,autoIntoViewHeight:fe,reset:ve}),(a,x)=>(m(),$("div",{ref_key:"viewerRef",ref:l,class:W(["ele-viewer"])},[s("div",{ref_key:"bodyRef",ref:t,class:"ele-viewer-body",style:T({transform:`translate(${f.value}px, ${i.value}px)`})},[s("div",{class:"ele-viewer-main",style:T({transform:`scale(${(e.value/100).toFixed(6)})`})},[s("div",{ref_key:"contentRef",ref:C,class:W(["ele-viewer-content",{"is-moving":y.value}]),style:T([a.contentStyle||{},{transform:k.value}]),onMousedown:x[0]||(x[0]=(...g)=>P(Q)&&P(Q)(...g)),onTouchstart:x[1]||(x[1]=(...g)=>P(ee)&&P(ee)(...g)),onClick:z,onContextmenu:E},[a.src?(m(),$("img",{key:0,src:a.src,class:"ele-viewer-image",style:T(a.imageStyle),onLoad:B},null,44,Te)):(m(),$("div",{key:1,class:"ele-viewer-image",style:T(a.imageStyle)},[te(a.$slots,"default")],4)),(m(!0),$(L,null,j(a.markers,g=>(m(),$("div",{key:g.key,style:T({left:(g.x||0)+"px",top:(g.y||0)+"px",transform:g.fixed?`scale(${d.value})`:void 0}),class:"ele-viewer-marker"},[s("div",{class:"ele-viewer-marker-content",style:T({transform:g.fixed?I.value:void 0})},[te(a.$slots,"markerItem",{item:g})],4)],4))),128))],38)],4)],4)],512))}}),Pe={key:0,class:"marker-watermark"},Be={key:1,class:"marker-item"},je={style:{"margin-top":"12px"}},Fe={__name:"demo-basic",setup(R){const c=w([{key:1,x:455,y:328,fixed:!0,text:"找同款吊灯"},{key:2,x:142,y:808,fixed:!0,text:"找同款挂画"},{key:3,x:908,y:1360,text:"我会跟随缩放"}]),_=w(null),p=r=>{_.value&&_.value[r]()};return(r,l)=>{const t=A,C=Y,y=J;return m(),O(y,{header:"基础用法"},{default:n(()=>[o(t,{ref_key:"viewerRef",ref:_,src:"https://cdn.eleadmin.com/20200610/pECHMJU.webp",markers:c.value,"rotate-step":45,"zoom-min":10,"image-style":{filter:"grayscale(60%) contrast(120%) saturate(200%)"},style:{height:"560px","max-width":"900px"}},{markerItem:n(({item:f})=>[f.key===3?(m(),$("div",Pe,[s("div",null,F(f.text),1)])):(m(),$("div",Be,[s("div",null,F(f.text),1)]))]),_:1},8,["markers"]),l[12]||(l[12]=s("div",{style:{"margin-top":"12px"}}," 可缩放、拖动、旋转等，可添加跟随缩放旋转和不跟随缩放旋转的标记点 ",-1)),s("div",je,[o(C,{class:"ele-btn-icon",onClick:l[0]||(l[0]=f=>p("zoomIn"))},{default:n(()=>l[6]||(l[6]=[u(" 放大 ")])),_:1}),o(C,{class:"ele-btn-icon",onClick:l[1]||(l[1]=f=>p("zoomOut"))},{default:n(()=>l[7]||(l[7]=[u(" 缩小 ")])),_:1}),o(C,{class:"ele-btn-icon",onClick:l[2]||(l[2]=f=>p("rotateLeft"))},{default:n(()=>l[8]||(l[8]=[u(" 向左旋转 ")])),_:1}),o(C,{class:"ele-btn-icon",onClick:l[3]||(l[3]=f=>p("rotateRight"))},{default:n(()=>l[9]||(l[9]=[u(" 向右旋转 ")])),_:1}),o(C,{class:"ele-btn-icon",onClick:l[4]||(l[4]=f=>p("autoIntoView"))},{default:n(()=>l[10]||(l[10]=[u(" 自适应缩放 ")])),_:1}),o(C,{class:"ele-btn-icon",onClick:l[5]||(l[5]=f=>p("reset"))},{default:n(()=>l[11]||(l[11]=[u(" 重置 ")])),_:1})])]),_:1})}}},Oe=Z(Fe,[["__scopeId","data-v-a3fcd61b"]]),We={style:{flex:"auto"}},He=["src"],Ne={style:{maxWidth:"820px",margin:"0 auto",padding:"0 12px 22px 12px",overflow:"hidden"}},Xe={style:{"text-align":"center",padding:"28px 0 20px 0"}},Ye={style:{color:"#999",fontSize:"13px",background:"#17181B",padding:"22px 0 12px 0"}},Je={style:{maxWidth:"820px",margin:"0 auto",padding:"0 12px",overflow:"hidden"}},Ae={style:{display:"flex",alignItems:"center",justifyContent:"center",borderTop:"1px solid #333",paddingTop:"12px",marginTop:"22px"}},Ue={key:0,style:{borderLeft:"1px solid #444",height:"12px",margin:"0 12px"}},Ze={style:{"margin-top":"12px"}},qe={__name:"demo-advanced",setup(R){const c=w([{index:"/index",title:"首页"},{index:"/service",title:"产品和服务"},{index:"/product",title:"解决方案"},{index:"/cases",title:"客户案例"}]),_=w(["https://cdn2.weimob.com/saas/@assets/saas-fe-website-web-stc/_next/static/media/L101.0a6f1b83.jpg","https://cdn2.weimob.com/saas/@assets/saas-fe-website-web-stc/_next/static/media/L108.d7c6f061.png","https://cdn2.weimob.com/saas/@assets/saas-fe-website-web-stc/_next/static/media/L100.98e3daa4.jpg"]),p=w(null),r=l=>{p.value&&p.value[l]()};return(l,t)=>{const C=De,y=Se,f=Ce,i=J,e=Ie,v=ze,h=$e,b=A,k=Y;return m(),O(i,{header:"可自定义任意内容"},{default:n(()=>[o(b,{ref_key:"viewerRef",ref:p,style:{height:"560px","max-width":"900px"}},{default:n(()=>[o(h,{layout:"top","header-menus":c.value,"header-custom-style":{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(12px)",boxShadow:"none",borderBottom:"1px solid rgba(0, 0, 0, 0.04)",paddingRight:"12px",overflow:"hidden"},"header-menu-props":{style:{"--el-color-primary-light-9":"rgba(22, 119, 255, 0.1)"}},"logo-style":{marginLeft:"24px",justifyContent:"flex-start"},"header-menus-style":{margin:"0 0 0 20px"},"menu-scroll-to-active":!1,style:{width:"800px",background:"var(--ele-layout-bg)",pointerEvents:"auto","--ele-header-tool-padding":"10px"}},{logo:n(()=>t[6]||(t[6]=[s("img",{src:he},null,-1)])),logoTitle:n(()=>t[7]||(t[7]=[s("h1",null,"Ele Admin",-1)])),right:n(()=>[o(P(ne),null,{default:n(()=>t[8]||(t[8]=[u("登录")])),_:1}),o(P(ne),null,{default:n(()=>t[9]||(t[9]=[u("注册")])),_:1})]),default:n(()=>[s("div",We,[o(y,{height:"320px",style:{"margin-top":"calc(0px - var(--ele-header-height) - 1px)"}},{default:n(()=>[(m(!0),$(L,null,j(_.value,d=>(m(),O(C,{key:d},{default:n(()=>[s("img",{src:d,style:{width:"100%",height:"100%",objectFit:"cover",display:"block",pointerEvents:"none"},class:"demo-banner-img"},null,8,He)]),_:2},1024))),128))]),_:1}),s("div",Ne,[s("div",Xe,[o(f,{size:"lg",type:"heading"},{default:n(()=>t[10]||(t[10]=[u("标题标题标题")])),_:1}),o(f,{size:"sm",type:"secondary"},{default:n(()=>t[11]||(t[11]=[u("描述描述描述")])),_:1})]),o(v,{gutter:16},{default:n(()=>[(m(),$(L,null,j(8,d=>o(e,{key:d,md:6,sm:8,xs:12},{default:n(()=>[o(i,{style:{"border-radius":"0","min-height":"140px"}})]),_:2},1024)),64))]),_:1})]),t[12]||(t[12]=s("div",{style:{textAlign:"center",padding:"26px 0",backgroundImage:"url(https://cdn2.weimob.com/saas/@assets/saas-fe-website-web-stc/_next/static/media/ZhuceBg.d0ce1f1c.png)",backgroundSize:"100% 100%"}},[s("div",{style:{color:"#fff","font-size":"16px"}}," 文本文本文本文本文本文本文本文本 "),s("div",{style:{width:"88px",margin:"0 auto",padding:"6px 0",borderRadius:"4px",color:"var(--el-color-primary)",marginTop:"12px",background:"#fff",cursor:"pointer"}}," 按钮按钮 ")],-1))]),s("div",Ye,[s("div",Je,[o(v,{gutter:16},{default:n(()=>[(m(),$(L,null,j(4,d=>o(e,{key:d,sm:6,xs:12},{default:n(()=>t[13]||(t[13]=[s("div",{style:{width:"max-content",margin:"12px auto"}},[s("div",{style:{color:"#fff","font-size":"14px"}},"标题标题"),s("div",{style:{"margin-top":"8px","line-height":"2"}},[s("div",null,"文字文字文字"),s("div",null,"文字文字文字"),s("div",null,"文字文字文字")])],-1)])),_:2},1024)),64))]),_:1}),s("div",Ae,[(m(),$(L,null,j(4,d=>(m(),$(L,{key:d},[t[14]||(t[14]=s("div",null,"文字文字",-1)),d!==4?(m(),$("div",Ue)):le("",!0)],64))),64))])])])]),_:1},8,["header-menus"])]),_:1},512),s("div",Ze,[o(k,{class:"ele-btn-icon",onClick:t[0]||(t[0]=d=>r("zoomIn"))},{default:n(()=>t[15]||(t[15]=[u(" 放大 ")])),_:1}),o(k,{class:"ele-btn-icon",onClick:t[1]||(t[1]=d=>r("zoomOut"))},{default:n(()=>t[16]||(t[16]=[u(" 缩小 ")])),_:1}),o(k,{class:"ele-btn-icon",onClick:t[2]||(t[2]=d=>r("rotateLeft"))},{default:n(()=>t[17]||(t[17]=[u(" 向左旋转 ")])),_:1}),o(k,{class:"ele-btn-icon",onClick:t[3]||(t[3]=d=>r("rotateRight"))},{default:n(()=>t[18]||(t[18]=[u(" 向右旋转 ")])),_:1}),o(k,{class:"ele-btn-icon",onClick:t[4]||(t[4]=d=>r("autoIntoView"))},{default:n(()=>t[19]||(t[19]=[u(" 自适应缩放 ")])),_:1}),o(k,{class:"ele-btn-icon",onClick:t[5]||(t[5]=d=>r("reset"))},{default:n(()=>t[20]||(t[20]=[u(" 重置 ")])),_:1})])]),_:1})}}},Ge={key:0,class:"paper-score"},Ke={class:"paper-score-content"},Qe={class:"paper-score-panel-list"},et=["onClick"],tt={class:"paper-score-panel-list"},nt={class:"paper-score-panel-footer"},ot={key:1,class:"paper-score"},lt={class:"paper-score-content"},st={style:{"margin-top":"12px"}},at={__name:"demo-paper",setup(R){const c=w([{key:1,x:1080,y:208,fixed:!0,score:6},{key:1,x:1100,y:980,fixed:!0,score:9}]),_=i=>{const e=c.value.indexOf(i);e!==-1&&c.value.splice(e,1)},p=i=>{var d,I,z;i.preventDefault();let e;const v=(z=(I=(d=y.value)==null?void 0:d.$el)==null?void 0:I.getBoundingClientRect)==null?void 0:z.call(I);if(v){let E=!1,B=!1;v.right-i.clientX<220&&(E=!0),v.bottom-i.clientY<168&&(B=!0),(E||B)&&(E&&B?e="topLeft":B?e="topRight":e="bottomLeft")}const h=i.offsetX,b=i.offsetY,k=c.value.find(E=>E.isPanel);if(k){k.x=h,k.y=b,k.selected=void 0,k.selectedDecimal=!1,k.placement=e,k.key=Date.now();return}c.value.push({key:Date.now(),x:h,y:b,fixed:!0,isPanel:!0,placement:e})},r=i=>{const e=c.value.find(v=>v.isPanel);e&&(e.selected=e.selected===i?void 0:i,e.selected===10&&e.selectedDecimal&&(e.selectedDecimal=!1))},l=()=>{const i=c.value.find(e=>e.isPanel);i&&(i.selected===10&&(i.selected=void 0),i.selectedDecimal=!i.selectedDecimal)},t=()=>{const i=c.value.findIndex(e=>e.isPanel);i!==-1&&c.value.splice(i,1)},C=()=>{var v;const i=c.value.find(h=>h.isPanel);if(i==null||i.selected==null&&!i.selectedDecimal){t();return}const e=((v=i.selected)!=null?v:0)+(i.selectedDecimal?.5:0);c.value.push({key:Date.now(),x:i.x,y:i.y,fixed:!0,score:e}),t()},y=w(null),f=i=>{y.value&&y.value[i]()};return(i,e)=>{const v=Y,h=Me,b=A,k=J;return m(),O(k,{header:"用于试卷批阅"},{default:n(()=>[e[18]||(e[18]=s("div",{style:{"margin-bottom":"12px"}},"点击鼠标右键评分",-1)),o(b,{ref_key:"viewerRef",ref:y,src:"https://cdn.eleadmin.com/20200610/pECunlF.jpg",markers:c.value,"image-style":{filter:"contrast(120%)"},style:{height:"560px","max-width":"900px"},onContentContextmenu:p},{markerItem:n(({item:d})=>{var I;return[d.isPanel?(m(),$("div",Ge,[s("div",Ke,[d.selected!=null||d.selectedDecimal?(m(),$(L,{key:0},[s("span",null,F(((I=d.selected)!=null?I:0)+(d.selectedDecimal?.5:0)),1),e[8]||(e[8]=s("span",null,"分",-1))],64)):le("",!0)]),s("div",{class:W(["paper-score-panel",{"is-top-left":d.placement==="topLeft"},{"is-top-right":d.placement==="topRight"},{"is-bottom-left":d.placement==="bottomLeft"}]),onContextmenu:e[0]||(e[0]=oe(()=>{},["stop","prevent"]))},[s("div",Qe,[(m(),$(L,null,j(11,z=>s("div",{key:z,class:W([{"is-active":d.selected===z-1}]),onClick:E=>r(z-1)},F(z-1),11,et)),64))]),s("div",tt,[s("div",{class:W([{"is-active":d.selectedDecimal}]),onClick:l}," 0.5 ",2)]),s("div",nt,[o(v,{size:"small",class:"ele-btn-icon",onClick:t},{default:n(()=>e[9]||(e[9]=[u(" 取消 ")])),_:1}),o(v,{type:"primary",size:"small",class:"ele-btn-icon",onClick:C},{default:n(()=>e[10]||(e[10]=[u(" 确定 ")])),_:1})])],34)])):(m(),$("div",ot,[s("div",lt,[s("span",null,F(d.score),1),e[11]||(e[11]=s("span",null,"分",-1))]),o(h,{onClick:z=>_(d),onContextmenu:e[1]||(e[1]=oe(()=>{},["stop","prevent"]))},{default:n(()=>[o(P(Re))]),_:2},1032,["onClick"])]))]}),_:1},8,["markers"]),s("div",st,[o(v,{class:"ele-btn-icon",onClick:e[2]||(e[2]=d=>f("zoomIn"))},{default:n(()=>e[12]||(e[12]=[u(" 放大 ")])),_:1}),o(v,{class:"ele-btn-icon",onClick:e[3]||(e[3]=d=>f("zoomOut"))},{default:n(()=>e[13]||(e[13]=[u(" 缩小 ")])),_:1}),o(v,{class:"ele-btn-icon",onClick:e[4]||(e[4]=d=>f("rotateLeft"))},{default:n(()=>e[14]||(e[14]=[u(" 向左旋转 ")])),_:1}),o(v,{class:"ele-btn-icon",onClick:e[5]||(e[5]=d=>f("rotateRight"))},{default:n(()=>e[15]||(e[15]=[u(" 向右旋转 ")])),_:1}),o(v,{class:"ele-btn-icon",onClick:e[6]||(e[6]=d=>f("autoIntoView"))},{default:n(()=>e[16]||(e[16]=[u(" 自适应缩放 ")])),_:1}),o(v,{class:"ele-btn-icon",onClick:e[7]||(e[7]=d=>f("reset"))},{default:n(()=>e[17]||(e[17]=[u(" 重置 ")])),_:1})])]),_:1})}}},it=Z(at,[["__scopeId","data-v-30bb2904"]]),rt={class:"zoo-map-location"},dt={style:{"margin-top":"12px"}},ut={__name:"demo-map",setup(R){const c=w(null),_=p=>{c.value&&c.value[p]()};return(p,r)=>{const l=A,t=Y,C=J;return m(),O(C,{header:"用于景区地图"},{default:n(()=>[o(l,{ref_key:"viewerRef",ref:c,src:"https://cdn.chimelong.com/upload/039efd65c3282816/408cbfefc64b04c4.jpg",markers:[{key:1,x:604,y:840,fixed:!0,text:"您的位置"}],"rotate-step":45,"image-style":{filter:"grayscale(60%) contrast(120%) saturate(200%)"},style:{height:"560px","max-width":"900px"}},{markerItem:n(({item:y})=>[s("div",rt,[s("div",null,F(y.text),1)])]),_:1},512),s("div",dt,[o(t,{class:"ele-btn-icon",onClick:r[0]||(r[0]=y=>_("zoomIn"))},{default:n(()=>r[6]||(r[6]=[u(" 放大 ")])),_:1}),o(t,{class:"ele-btn-icon",onClick:r[1]||(r[1]=y=>_("zoomOut"))},{default:n(()=>r[7]||(r[7]=[u(" 缩小 ")])),_:1}),o(t,{class:"ele-btn-icon",onClick:r[2]||(r[2]=y=>_("rotateLeft"))},{default:n(()=>r[8]||(r[8]=[u(" 向左旋转 ")])),_:1}),o(t,{class:"ele-btn-icon",onClick:r[3]||(r[3]=y=>_("rotateRight"))},{default:n(()=>r[9]||(r[9]=[u(" 向右旋转 ")])),_:1}),o(t,{class:"ele-btn-icon",onClick:r[4]||(r[4]=y=>_("autoIntoView"))},{default:n(()=>r[10]||(r[10]=[u(" 自适应缩放 ")])),_:1}),o(t,{class:"ele-btn-icon",onClick:r[5]||(r[5]=y=>_("reset"))},{default:n(()=>r[11]||(r[11]=[u(" 重置 ")])),_:1})])]),_:1})}}},pt=Z(ut,[["__scopeId","data-v-2a5dc1cc"]]),yt=Object.assign({name:"ExtensionViewer"},{__name:"index",setup(R){return(c,_)=>{const p=ge;return m(),O(p,null,{default:n(()=>[o(Oe),o(qe),o(it),o(pt)]),_:1})}}});export{yt as default};
