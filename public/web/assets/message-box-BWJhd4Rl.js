import{L as k,Q as E,J as C,T as B,c9 as h,ca as M,n as T,o as p,c as b,a5 as _,a8 as D,u as m,bi as I,bo as S,bk as $,f8 as L,ea as A,eo as j,Y as N,Z as O,aE as v,M as P,e7 as F}from"./index-C4Wz-E93.js";const G={class:"ele-message-box-icon"},J=k({name:"MessageBoxIcon",__name:"message-box-icon",props:{type:String,icon:[String,Object,Function],boxId:String},emits:{boxDestroy:o=>!0,boxMounted:o=>!0},setup(o,{emit:d}){var r;const l=o,y=d,u=(r=E)==null?void 0:r();return C(()=>{y("boxDestroy",l.boxId)}),B(()=>{var s,i;y("boxMounted",{boxId:l.boxId,doClose:(i=(s=u==null?void 0:u.ctx)==null?void 0:s.$root)==null?void 0:i.doClose})}),(s,i)=>h((p(),T("div",G,[o.icon?(p(),b(D(o.icon),{key:0})):o.type==="success"?(p(),b(m(I),{key:1})):o.type==="warning"?(p(),b(m(S),{key:2})):o.type==="error"?(p(),b(m($),{key:3})):o.type==="info"?(p(),b(m(L),{key:4})):_("",!0)],512)),[[M,o.type||o.icon]])}});function Q(o){const d=o||document.body,r="ele-message-box-wrapper",l=document.createElement("div");return l.classList.add(r),d.appendChild(l),l}function V(o){var d,r;const l=A(),y=j("messageBox"),u=(r=(d=E)==null?void 0:d())==null?void 0:r.appContext,s={wrapEl:null,isActivated:!0,id:0},i=new Map,x="is-hide";N(()=>{s.isActivated=!0,s.wrapEl&&s.wrapEl.classList.remove(x)}),O(()=>{s.isActivated=!1,s.wrapEl&&s.wrapEl.classList.add(x)}),C(()=>{for(const[t,c]of i)c&&c();i.clear()});const g=t=>{s.id++;const c=`m_${s.id}`,e={...y.value||{},...o||{},...t||{}};e.inner?(e.appendTo==null&&l.modalsEl!=null?(s.wrapEl==null&&(s.wrapEl=Q(l.modalsEl)),e.appendTo=s.wrapEl):e.appendTo!=null&&(e.appendTo=m(e.appendTo)),e.lockScroll=!1):e.appendTo!=null&&(e.appendTo=m(e.appendTo));const n=["ele-message-box"];return e.customClass&&n.push(e.customClass),e.customClass=n.join(" "),e.icon=P(J,{type:e.type,icon:e.icon,boxId:c,onBoxDestroy:a=>{a&&i.delete(a)},onBoxMounted:({boxId:a,doClose:w})=>{a&&i.set(a,w)}}),F(e,["inner"])},f=function(t){return v(g(t),u)};return f.alert=function(t,c,e,n){const a=n!=null?n:u;return v.alert(t,c,g(e),a)},f.confirm=function(t,c,e,n){const a=n!=null?n:u;return v.confirm(t,c,g(e),a)},f.prompt=function(t,c,e,n){const a=n!=null?n:u;return v.prompt(t,c,g(e),a)},f.close=function(){return v.close()},f}export{V as u};
