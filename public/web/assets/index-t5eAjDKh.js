import{_ as be}from"./index-BfNM-jf9.js";import{_ as ee,co as X,r as k,a as ne,n as z,o as d,d as C,b as l,w as o,aW as de,a5 as q,F as oe,ay as te,h as M,k as le,aY as _e,aD as Q,U as ae,m as T,c as V,b8 as ge,z as G,cC as ye,p as re,t as J,l as pe,cD as ve,cE as he,u as me,bR as xe,aK as ke,aN as we,aO as Ce,aM as Se,aJ as $e,aI as De,T as Ie,ap as Ne,J as Ve,e as Me,cF as ze,av as Ee,b9 as Z,cw as We,at as Ke,c3 as ce,ba as Te,au as Re,bO as Ue,c2 as Ye,cb as Pe}from"./index-DI_pBaIb.js";import{_ as Fe}from"./index-MrAI6rPt.js";import{_ as He}from"./index-D8jt9Vsj.js";import{_ as A,i as Oe}from"./index-B4yBieM2.js";import"./index-k2MWfsmq.js";import"./index-CHoJYPKN.js";import"./index-CK7roGaU.js";import"./virtual-list-yg88wA8h.js";import"./index-D0kmaoFh.js";import{_ as Le}from"./index-BBqhId_D.js";import{O as H}from"./option-item-bwmjT5wP.js";import{l as se,p as Je}from"./index-CS8HNG3i.js";import{l as ie,p as fe}from"./index-zx-St972.js";import{p as Ae}from"./index-DnTDh3Je.js";import{_ as ue}from"./index-DDFQbnI0.js";import"./isArrayLikeObject-BwKmHkqM.js";import"./vuedraggable.umd-D1eDlwGp.js";const Be={class:"option-wrapper"},je={key:0,style:{width:"14px",height:"14px",border:"1px solid #000",borderRadius:"2px"}},qe={key:0,style:{width:"8px",height:"4px",border:"2px solid transparent",borderLeftColor:"#000",borderBottomColor:"#000",transform:"rotate(-45deg) translate(0px, 2px)"}},Xe={style:{width:"14px",height:"14px",border:"1px solid #000",borderRadius:"2px"}},Ze={key:0,style:{width:"8px",height:"0px",borderTop:"2px solid #000",margin:"6px auto 0 auto"}},Ge={key:1,style:{width:"8px",height:"4px",border:"2px solid transparent",borderLeftColor:"#000",borderBottomColor:"#000",transform:"rotate(-45deg) translate(0px, 2px)"}},Qe={__name:"demo-base",setup(P){const b=Array.from({length:39}).map((S,n)=>{const D=n+1,W=String(D).padStart(3,"0"),K=["机密","秘密","公开","绝密","内部"],Y=["永久","定期10年","定期20年"],F=["Y","D10","D20"],j=X(0,Y.length),I=["纸张","光盘"],L="2020";return{pieceId:D,title:`教学档案${W}`,pieceNo:`ELE101-${F[j]}-ZM•JX-${L}-${W}`,secret:K[X(0,K.length)],location:`001-001-${Math.random()<.5?"A":"B"}0${X(1,7)}`,type:"教学组织",retention:Y[j],carrier:I[X(0,I.length)],year:L,amount:X(2,10)}}),p=k(null),f=k([{type:"selection",columnKey:"selection",width:50,align:"center",fixed:"left",printSlot:"selectionPrint",printHeaderSlot:"selectionHeaderPrint"},{type:"index",columnKey:"index",width:50,align:"center",fixed:"left"},{prop:"pieceNo",label:"案卷档号",minWidth:260},{prop:"title",label:"案卷题名",minWidth:160},{prop:"retention",label:"保管期限",minWidth:110,align:"center",filters:[{text:"永久",value:"永久"},{text:"定期10年",value:"定期10年"},{text:"定期20年",value:"定期20年"}],filterMultiple:!1},{prop:"amount",label:"件数",minWidth:110,align:"center"},{prop:"secret",label:"密级",minWidth:110,align:"center",filters:[{text:"机密",value:"机密"},{text:"秘密",value:"秘密"},{text:"公开",value:"公开"},{text:"绝密",value:"绝密"},{text:"内部",value:"内部"}],filterMultiple:!0},{prop:"year",label:"归档年度",minWidth:110,align:"center"},{prop:"type",label:"案卷类型",minWidth:140,align:"center"},{prop:"location",label:"存放位置",minWidth:140,align:"center"},{prop:"carrier",label:"载体类型",minWidth:110,align:"center"},{columnKey:"action",label:"操作",width:160,align:"center",slot:"action",fixed:"right",hideInPrint:!0,hideInExport:!0}]),v=async({pages:S,filter:n})=>{var j,I;await new Promise(L=>setTimeout(L,100));const D=(j=n.secret)!=null&&j.length?n.secret:null,W=(I=n.retention)!=null&&I.length?n.retention:null,K=b.filter(L=>!(D!=null&&(!L.secret||!D.includes(L.secret))||W!=null&&(!L.retention||!W.includes(L.retention)))),Y=((S.page||1)-1)*(S.limit||10),F=Y+(S.limit||10);return{count:m.value?"*":K.length,list:K.slice(Y,F>K.length?K.length:F)}},a=k([]),x=k(null),r=k(!1),u=k(!1),t=k(!1),e=k(!0),s=k(!0),_=k(!1),g=k(!1),m=k(!1),c=S=>{T.success("编辑:"+S.pieceNo)},w=S=>{T.error("删除:"+S.pieceNo)},y=({columns:S,data:n})=>{var K;const D=[],W=((K=S[0])==null?void 0:K.type)==="selection"?2:1;return S.forEach((Y,F)=>{Y.property==="amount"?D[F]=n.map(j=>Number(j[Y.property])).reduce((j,I)=>{const L=Number(I);return isNaN(L)?j:j+I},0):F===W&&(D[F]="合计")}),D},h=()=>{var S,n;a.value=[],(n=(S=p.value)==null?void 0:S.reload)==null||n.call(S,{page:1})},N=()=>{ae(()=>{p.value&&p.value.doLayout()})},i=async({filter:S})=>(await v({filter:S,pages:{page:1,limit:b.length}})).list,$=ne({datasource:i,printerProps:{direction:"landscape"},beforePrint:S=>{S.footerData.forEach(n=>{S.bodyData.push(n)}),S.footerData.splice(0,S.footerData.length)}}),E=()=>{var S,n;(n=(S=p.value)==null?void 0:S.openExportModal)==null||n.call(S)},U=()=>{var S,n;(n=(S=p.value)==null?void 0:S.openPrintModal)==null||n.call(S)},R=k(!1),O=()=>{var n,D,W,K;const S=((D=(n=p.value)==null?void 0:n.getData)==null?void 0:D.call(n))||[];R.value=a.value.length?S.length===a.value.length?!0:"indeterminate":!1,(K=(W=p.value)==null?void 0:W.printData)==null||K.call(W,{data:S,columns:f.value,showHeader:e.value,showFooter:s.value,dataType:"pageData"})},B=()=>{var n,D,W,K;const S=((D=(n=p.value)==null?void 0:n.getData)==null?void 0:D.call(n))||[];R.value=a.value.length?S.length===a.value.length?!0:"indeterminate":!1,(K=(W=p.value)==null?void 0:W.exportData)==null||K.call(W,{data:S,columns:[{type:"selection",columnKey:"selection",width:50,align:"center",fixed:"left",formatter:Y=>a.value.some(F=>F.pieceId===Y.pieceId)?"☑":"☐",label:R.value==="indeterminate"?"☐":R.value?"☑":"☐"},...f.value.filter(Y=>Y.columnKey!=="action"&&Y.columnKey!=="selection")],showHeader:e.value,showFooter:s.value,fileName:"档案数据",dataType:"pageData"})};return(S,n)=>{const D=de,W=Q,K=_e,Y=te,F=le,j=A;return d(),z("div",null,[C("div",Be,[l(H,{label:"表头背景",responsive:!1},{default:o(()=>[l(D,{modelValue:r.value,"onUpdate:modelValue":n[0]||(n[0]=I=>r.value=I),size:"small"},null,8,["modelValue"])]),_:1}),l(H,{label:"边框",responsive:!1},{default:o(()=>[l(D,{modelValue:u.value,"onUpdate:modelValue":n[1]||(n[1]=I=>u.value=I),size:"small",onChange:N},null,8,["modelValue"])]),_:1}),l(H,{label:"斑马纹",responsive:!1},{default:o(()=>[l(D,{modelValue:t.value,"onUpdate:modelValue":n[2]||(n[2]=I=>t.value=I),size:"small",onChange:N},null,8,["modelValue"])]),_:1}),l(H,{label:"表头",responsive:!1},{default:o(()=>[l(D,{modelValue:e.value,"onUpdate:modelValue":n[3]||(n[3]=I=>e.value=I),size:"small"},null,8,["modelValue"])]),_:1}),l(H,{label:"表尾合计行",responsive:!1},{default:o(()=>[l(D,{modelValue:s.value,"onUpdate:modelValue":n[4]||(n[4]=I=>s.value=I),size:"small"},null,8,["modelValue"])]),_:1}),l(H,{label:"行点击高亮",responsive:!1},{default:o(()=>[l(D,{modelValue:_.value,"onUpdate:modelValue":n[5]||(n[5]=I=>_.value=I),size:"small"},null,8,["modelValue"])]),_:1}),l(H,{label:"行点击勾选",responsive:!1},{default:o(()=>[l(D,{modelValue:g.value,"onUpdate:modelValue":n[6]||(n[6]=I=>g.value=I),size:"small"},null,8,["modelValue"])]),_:1}),l(H,{label:"不返回总数",responsive:!1},{default:o(()=>[l(D,{modelValue:m.value,"onUpdate:modelValue":n[7]||(n[7]=I=>m.value=I),size:"small",onChange:n[8]||(n[8]=I=>h())},null,8,["modelValue"])]),_:1})]),l(j,{ref_key:"tableRef",ref:p,"row-key":"pieceId",columns:f.value,datasource:v,"show-overflow-tooltip":!0,"highlight-current-row":_.value,"row-click-checked":g.value,selections:a.value,"onUpdate:selections":n[9]||(n[9]=I=>a.value=I),current:x.value,"onUpdate:current":n[10]||(n[10]=I=>x.value=I),pagination:{pageSize:10,pageSizes:[10,20,40]},toolbar:{theme:r.value?"default":"plain"},border:u.value,stripe:t.value,"show-header":e.value,"show-summary":s.value,"summary-method":y,"export-config":{fileName:"档案数据",datasource:i},"print-config":$},{toolbar:o(()=>[l(K,{size:12,wrap:""},{default:o(()=>[l(W,{type:"primary",class:"ele-btn-icon",onClick:E},{default:o(()=>n[11]||(n[11]=[M(" 打开导出弹窗 ")])),_:1}),l(W,{type:"primary",class:"ele-btn-icon",onClick:U},{default:o(()=>n[12]||(n[12]=[M(" 打开打印弹窗 ")])),_:1}),l(W,{type:"primary",class:"ele-btn-icon",onClick:B},{default:o(()=>n[13]||(n[13]=[M(" 直接导出 ")])),_:1}),l(W,{type:"primary",class:"ele-btn-icon",onClick:O},{default:o(()=>n[14]||(n[14]=[M(" 直接打印 ")])),_:1})]),_:1})]),action:o(({row:I})=>[I?(d(),z(oe,{key:0},[l(Y,{type:"primary",underline:!1,onClick:L=>c(I)},{default:o(()=>n[15]||(n[15]=[M(" 修改 ")])),_:2},1032,["onClick"]),l(F,{direction:"vertical"}),l(Y,{type:"danger",underline:!1,onClick:L=>w(I)},{default:o(()=>n[16]||(n[16]=[M(" 删除 ")])),_:2},1032,["onClick"])],64)):q("",!0)]),selectionPrint:o(({row:I})=>[I?(d(),z("div",je,[a.value.some(L=>L.pieceId===I.pieceId)?(d(),z("div",qe)):q("",!0)])):q("",!0)]),selectionHeaderPrint:o(()=>[C("div",Xe,[R.value==="indeterminate"?(d(),z("div",Ze)):R.value?(d(),z("div",Ge)):q("",!0)])]),_:1},8,["columns","highlight-current-row","row-click-checked","selections","current","toolbar","border","stripe","show-header","show-summary","export-config","print-config"])])}}},et=ee(Qe,[["__scopeId","data-v-364db886"]]),tt={__name:"tree-table",setup(P){const b=k(null),p=k([{type:"index",columnKey:"index",width:50,align:"center"},{prop:"title",label:"菜单名称",minWidth:160},{prop:"path",label:"路由地址",minWidth:180},{prop:"sortNumber",label:"排序",width:100,align:"center"},{prop:"updateTime",label:"更新时间",width:220,align:"center"},{width:280,columnKey:"action",label:"操作",align:"center",slot:"action",hideInPrint:!0,hideInExport:!0}]),f=async({pages:t,where:e,parent:s})=>{var m,c,w;const _=Date.now();if(s==null){const y=await Je({...e,...t,parentId:0});return{count:y==null?void 0:y.count,list:(c=(m=y==null?void 0:y.list)==null?void 0:m.map)==null?void 0:c.call(m,h=>({...h,updateTime:G(_).format("YYYY-MM-DD HH:mm:ss.SSS"),menuKey:h.menuId+"-"+_}))}}const g=await se({...e,parentId:s.menuId});return s._oldChildrenLength=((w=s.children)==null?void 0:w.length)||0,g.map(y=>({...y,updateTime:G(_).format("YYYY-MM-DD HH:mm:ss.SSS"),menuKey:y.menuId+"-"+_,_parentTableResolve:s._tableResolve,parent:s}))},v=({response:t},e)=>{e&&!t.length&&e._oldChildrenLength&&ae(()=>{e.hasChildren=!1,e.menuKey=e.menuId+"-"+Date.now()})},a=(t,e,s)=>{var _,g;t._tableResolve=s,(g=(_=b.value)==null?void 0:_.reload)==null||g.call(_,void 0,t,s)},x=(t,e)=>{var m,c,w,y,h;if(T.success("已刷新, 可查看控制台发出的请求"),t._tableResolve){(c=(m=b.value)==null?void 0:m.reload)==null||c.call(m,void 0,t,t._tableResolve);return}const s=e.currentTarget,_=(y=(w=s==null?void 0:s.parentElement)==null?void 0:w.parentElement)==null?void 0:y.parentElement,g=(h=_==null?void 0:_.querySelector)==null?void 0:h.call(_,".el-table__expand-icon");g&&g.click()},r=t=>{var e,s;T.success("已刷新, 可查看控制台发出的请求"),t._parentTableResolve&&((s=(e=b.value)==null?void 0:e.reload)==null||s.call(e,void 0,t.parent,t._parentTableResolve))},u=async({where:t})=>{const e=await se({...t});return ge({data:e,idField:"menuId",parentIdField:"parentId"})};return(t,e)=>{const s=te,_=le,g=A;return d(),z("div",null,[l(g,{ref_key:"tableRef",ref:b,"row-key":"menuKey",columns:p.value,datasource:f,lazy:!0,"show-overflow-tooltip":!0,load:a,pagination:{pageSize:5,pageSizes:[5,10,20]},"export-config":{fileName:"菜单数据",datasource:u},"print-config":{datasource:u},onDone:v},{action:o(({row:m})=>[l(s,{type:"primary",underline:!1,onClick:c=>x(m,c)},{default:o(()=>e[0]||(e[0]=[M(" 刷新我的子级 ")])),_:2},1032,["onClick"]),m.parentId?(d(),V(_,{key:0,direction:"vertical"})):q("",!0),m.parentId?(d(),V(s,{key:1,type:"primary",underline:!1,onClick:c=>r(m)},{default:o(()=>e[1]||(e[1]=[M(" 刷新我父级的子级 ")])),_:2},1032,["onClick"])):q("",!0)]),_:1},8,["columns","export-config","print-config"])])}}},lt={__name:"default-sorter",setup(P){const b=k(null),p=k([{type:"index",columnKey:"index",width:50,align:"center"},{prop:"username",label:"用户账号",sortable:"custom",minWidth:140},{prop:"nickname",label:"用户名",sortable:"custom",minWidth:140},{prop:"sexName",label:"性别",sortable:"custom",width:110,align:"center",filterMultiple:!1,filters:[{text:"男",value:"男"},{text:"女",value:"女"}],filteredValue:["男"]},{prop:"createTime",label:"创建时间",sortable:"custom",minWidth:180,align:"center"}]),f=({pages:r,orders:u,filters:t})=>fe({...u,...t,...r}),v=()=>{var r,u;(u=(r=b.value)==null?void 0:r.sort)==null||u.call(r,"username","ascending")},a=()=>{var r,u,t,e,s,_;(u=(r=b.value)==null?void 0:r.clearSort)==null||u.call(r),(e=(t=b.value)==null?void 0:t.clearFilter)==null||e.call(t),(_=(s=b.value)==null?void 0:s.reload)==null||_.call(s,{sorter:{},filter:{}})},x=({orders:r,filters:u})=>ie({...r,...u});return(r,u)=>{const t=Q,e=A;return d(),z("div",null,[l(e,{ref_key:"tableRef",ref:b,"row-key":"userId",columns:p.value,datasource:f,"default-sort":{prop:"createTime",order:"descending"},"show-overflow-tooltip":!0,"export-config":{fileName:"用户数据",datasource:x},"print-config":{datasource:x}},{toolbar:o(()=>[l(t,{type:"primary",class:"ele-btn-icon",onClick:v},{default:o(()=>u[0]||(u[0]=[M(" 改为账号排序 ")])),_:1}),l(t,{type:"primary",class:"ele-btn-icon",onClick:a},{default:o(()=>u[1]||(u[1]=[M(" 重置排序筛选 ")])),_:1})]),_:1},8,["columns","export-config","print-config"])])}}},nt={style:{padding:"0 16px"}},ot={__name:"child-table",props:{dictId:{type:Number,required:!0},selections:Array},emits:["update:selections","setDictionaryData"],setup(P,{emit:b}){const p=P,f=b,v=k([{type:"selection",columnKey:"selection",width:50,align:"center",fixed:"left"},{type:"index",columnKey:"index",width:50,align:"center"},{prop:"dictDataName",label:"字典数据名称",sortable:"custom",minWidth:140},{prop:"dictDataCode",label:"字典数据代码",sortable:"custom",minWidth:140},{prop:"sortNumber",label:"排序号",sortable:"custom",width:110,align:"center"},{prop:"createTime",label:"创建时间",sortable:"custom",minWidth:140,align:"center"},{columnKey:"action",label:"操作",width:120,align:"center",slot:"action"}]),a=({where:e,orders:s})=>ye({...e,...s,dictId:p.dictId}),x=e=>{T.error("删除: "+e.dictDataName)},r=e=>{T.info({message:"修改: "+e.dictDataName,plain:!0})},u=e=>{f("update:selections",e)},t=e=>{f("setDictionaryData",p.dictId,e.data)};return(e,s)=>{const _=te,g=le,m=A;return d(),z("div",nt,[l(m,{"row-key":"dictDataId",columns:v.value,datasource:a,"show-overflow-tooltip":!0,toolbar:!1,pagination:!1,"empty-props":!1,selections:P.selections||[],"onUpdate:selections":u,onDone:t},{action:o(({row:c})=>[l(_,{type:"primary",underline:!1,onClick:w=>r(c)},{default:o(()=>s[0]||(s[0]=[M(" 修改 ")])),_:2},1032,["onClick"]),l(g,{direction:"vertical"}),l(_,{type:"danger",underline:!1,onClick:w=>x(c)},{default:o(()=>s[1]||(s[1]=[M(" 删除 ")])),_:2},1032,["onClick"])]),_:1},8,["columns","selections"])])}}},at={style:{padding:"8px 16px"}},st={style:{"text-align":"center"}},rt={style:{"text-align":"center"}},it={style:{"text-align":"center"}},ut={__name:"child-print-table",props:{data:Array},setup(P){return(b,p)=>{const f=Le;return d(),z("div",at,[l(f,{border:!0,"print-skin":!0},{default:o(()=>[p[0]||(p[0]=C("colgroup",null,[C("col",{width:"50px"}),C("col"),C("col"),C("col",{width:"110px"}),C("col")],-1)),p[1]||(p[1]=C("thead",null,[C("tr",null,[C("th"),C("th",null,"字典数据名称"),C("th",null,"字典数据代码"),C("th",{style:{"text-align":"center"}},"排序号"),C("th",{style:{"text-align":"center"}},"创建时间")])],-1)),C("tbody",null,[(d(!0),z(oe,null,re(P.data,(v,a)=>(d(),z("tr",{key:v.dictDataId},[C("td",st,J(a+1),1),C("td",null,J(v.dictDataName),1),C("td",null,J(v.dictDataCode),1),C("td",rt,J(v.sortNumber),1),C("td",it,J(v.createTime),1)]))),128))])]),_:1})])}}},ct={__name:"nested-table",setup(P){const b=k([{type:"expand",columnKey:"expand",width:50,align:"center",slot:"expand",fixed:"left",printSlot:"expandPrint",formatter:t=>{var s,_;const e=[["#","字典数据名称","字典数据代码","排序号","创建时间"]];return(_=(s=r[t.dictId])==null?void 0:s.forEach)==null||_.call(s,(g,m)=>{var c,w,y,h;e.push([m+1,(c=g.dictDataName)!=null?c:"",(w=g.dictDataCode)!=null?w:"",(y=g.sortNumber)!=null?y:"",(h=g.createTime)!=null?h:""])}),e.map(g=>g.join(",")).join(`
`)}},{type:"index",columnKey:"index",width:50,align:"center",fixed:"left"},{prop:"dictName",label:"字典名称",sortable:"custom",minWidth:130},{prop:"dictCode",label:"字典代码",sortable:"custom",minWidth:160},{prop:"sortNumber",label:"排序号",sortable:"custom",width:120,align:"center"},{prop:"createTime",label:"创建时间",sortable:"custom",minWidth:180,align:"center"},{columnKey:"action",label:"操作",width:120,align:"center",slot:"action",fixed:"right",hideInPrint:!0,hideInExport:!0}]),p=({pages:t,orders:e})=>Ae({...e,...t}),f=t=>{T.error("删除: "+t.dictName)},v=t=>{T.info({message:"删除: "+t.dictName,plain:!0})},a=ne({}),x=()=>{console.log(JSON.parse(JSON.stringify(a)));const t=Object.keys(a).map(e=>a[e].length).reduce((e,s)=>e+s,0);T.success(`共选中 ${t} 条数据, 已打印在控制台`)},r=ne({}),u=(t,e)=>{r[t]=e};return(t,e)=>{const s=Q,_=te,g=le,m=A;return d(),z("div",null,[l(m,{"row-key":"dictId",columns:b.value,datasource:p,"show-overflow-tooltip":!0,"export-config":{fileName:"字典数据"}},{toolbar:o(()=>[l(s,{type:"primary",onClick:x,class:"ele-btn-icon"},{default:o(()=>e[0]||(e[0]=[M(" 获取所有选中 ")])),_:1})]),action:o(({row:c})=>[l(_,{type:"primary",underline:!1,onClick:w=>v(c)},{default:o(()=>e[1]||(e[1]=[M(" 修改 ")])),_:2},1032,["onClick"]),l(g,{direction:"vertical"}),l(_,{type:"danger",underline:!1,onClick:w=>f(c)},{default:o(()=>e[2]||(e[2]=[M(" 删除 ")])),_:2},1032,["onClick"])]),expand:o(({row:c})=>[l(ot,{dictId:c.dictId,selections:a[c.dictId],"onUpdate:selections":w=>a[c.dictId]=w,onSetDictionaryData:u},null,8,["dictId","selections","onUpdate:selections"])]),expandPrint:o(({row:c})=>[l(ut,{data:r[c.dictId]},null,8,["data"])]),_:1},8,["columns"])])}}},dt={style:{padding:"12px 16px 12px 32px"}},pt={style:{"margin-top":"12px"}},mt={style:{"margin-top":"12px"}},ft={style:{"margin-top":"12px"}},_t={__name:"expandable-table",setup(P){const b=k([{type:"expand",columnKey:"expand",width:50,align:"center",slot:"expand",formatter:v=>[`手机号码：${v.phone}`,`所属机构：${v.organizationName}`,`角色：${v.roles.map(a=>a.roleName).join()}`,`状态：${v.status==0?"正常":"冻结"}`].join(`
`)},{type:"index",columnKey:"index",width:50,align:"center"},{prop:"username",label:"用户账号",sortable:"custom",minWidth:140},{prop:"nickname",label:"用户名",sortable:"custom",minWidth:140},{prop:"createTime",label:"创建时间",sortable:"custom",minWidth:180,align:"center"}]),p=({pages:v,orders:a})=>fe({...a,...v}),f=({orders:v})=>ie({...v});return(v,a)=>{const x=pe,r=ue,u=A;return d(),z("div",null,[l(u,{"row-key":"userId",columns:b.value,datasource:p,"show-overflow-tooltip":!0,"export-config":{fileName:"用户数据",datasource:f},"print-config":{datasource:f}},{expand:o(({row:t})=>[C("div",dt,[C("div",null,[a[0]||(a[0]=C("span",null,"手机号码：",-1)),C("span",null,J(t.phone),1)]),C("div",pt,[a[1]||(a[1]=C("span",null,"所属机构：",-1)),C("span",null,J(t.organizationName),1)]),C("div",mt,[a[2]||(a[2]=C("span",null,"角  色：",-1)),C("span",null,[(d(!0),z(oe,null,re(t.roles,e=>(d(),V(x,{key:e.roleId,size:"small","disable-transitions":!0},{default:o(()=>[M(J(e.roleName),1)]),_:2},1024))),128))])]),C("div",ft,[a[3]||(a[3]=C("span",null,"状  态：",-1)),C("span",null,[t.status===0?(d(),V(r,{key:0,text:"正常",size:"8px"})):t.status===1?(d(),V(r,{key:1,text:"冻结",type:"danger",ripple:!1,size:"8px"})):q("",!0)])])])]),_:1},8,["columns","export-config","print-config"])])}}},gt={__name:"merge-cell",setup(P){const b=k([{type:"index",columnKey:"index",width:50,align:"center"},{columnKey:"userName",prop:"userName",label:"姓名"},{prop:"courseName",label:"课程"},{prop:"score",label:"得分"}]),p=()=>ve(),f=({row:v,column:a})=>a.columnKey==="userName"?[v.userNameRowSpan,1]:[1,1];return(v,a)=>{const x=A;return d(),z("div",null,[l(x,{border:!0,"row-key":"userId",columns:b.value,datasource:p,"span-method":f,toolbar:{theme:"default"},"show-overflow-tooltip":!0,"export-config":{fileName:"成绩数据"}},null,8,["columns"])])}}},vt={style:{padding:"6px 0 12px 0"}},bt={key:1,class:"editable-cell-text"},yt={key:1,class:"editable-cell-text"},ht={key:1,class:"editable-cell-text"},xt={style:{display:"inline","align-items":"center"}},kt={__name:"editable-table",setup(P){const b=k(null),p=ne({users:[]}),f=k([{type:"index",columnKey:"index",width:50,align:"center",fixed:"left"},{columnKey:"name",label:"用户名",minWidth:120,slot:"name"},{columnKey:"number",label:"工号",minWidth:120,slot:"number"},{columnKey:"department",label:"所属部门",minWidth:120,slot:"department"},{columnKey:"action",label:"操作",width:120,align:"center",fixed:"right",slot:"action"}]),v=()=>{var t,e;(e=(t=b.value)==null?void 0:t.validate)==null||e.call(t,(s,_)=>{if(!s){const g=_?Object.keys(_).length:0;T.error(`有 ${g} 项校验不通过`);return}T.success("提交成功")})},a=()=>{p.users.push({key:Date.now()+"-"+p.users.length,number:"",name:"",department:void 0,isEdit:!0})},x=(t,e)=>{p.users.splice(e,1)},r=t=>{t.isEdit=!0},u=t=>{t.isEdit=!1};return he().then(t=>{p.users=t}).catch(t=>{T.error(t.message)}),(t,e)=>{const s=Q,_=Se,g=ke,m=Ce,c=we,w=te,y=le,h=Oe,N=De;return d(),z("div",null,[l(N,{ref_key:"formRef",ref:b,model:p,"label-width":"0px",onSubmit:e[0]||(e[0]=$e(()=>{},["prevent"]))},{default:o(()=>[C("div",vt,[l(s,{icon:me(xe),type:"primary",class:"ele-btn-icon",onClick:a},{default:o(()=>e[1]||(e[1]=[M(" 新增一行 ")])),_:1},8,["icon"]),l(s,{type:"primary",onClick:v},{default:o(()=>e[2]||(e[2]=[M("提交")])),_:1})]),l(h,{"row-key":"key",columns:f.value,data:p.users,"cell-class-name":"editable-table-cell",class:"editable-table"},{name:o(({row:i,$index:$})=>[l(g,{prop:"users."+$+".name",rules:{required:!0,message:"请输入用户名",type:"string",trigger:"blur"},class:"form-error-popper",style:{"margin-bottom":"0"}},{default:o(()=>[i.isEdit?(d(),V(_,{key:0,clearable:"",modelValue:i.name,"onUpdate:modelValue":E=>i.name=E,placeholder:"请输入用户名"},null,8,["modelValue","onUpdate:modelValue"])):(d(),z("div",bt,J(i.name),1))]),_:2},1032,["prop"])]),number:o(({row:i,$index:$})=>[l(g,{prop:"users."+$+".number",rules:{required:!0,message:"请输入工号",type:"string",trigger:"blur"},class:"form-error-popper",style:{"margin-bottom":"0"}},{default:o(()=>[i.isEdit?(d(),V(_,{key:0,clearable:"",modelValue:i.number,"onUpdate:modelValue":E=>i.number=E,placeholder:"请输入工号"},null,8,["modelValue","onUpdate:modelValue"])):(d(),z("div",yt,J(i.number),1))]),_:2},1032,["prop"])]),department:o(({row:i,$index:$})=>[l(g,{prop:"users."+$+".department",rules:{required:!0,message:"请选择部门",type:"string",trigger:"change"},class:"form-error-popper",style:{"margin-bottom":"0"}},{default:o(()=>[i.isEdit?(d(),V(c,{key:0,clearable:"",modelValue:i.department,"onUpdate:modelValue":E=>i.department=E,placeholder:"请选择部门",class:"ele-fluid"},{default:o(()=>[l(m,{value:"研发部",label:"研发部"}),l(m,{value:"测试部",label:"测试部"}),l(m,{value:"产品部",label:"产品部"})]),_:2},1032,["modelValue","onUpdate:modelValue"])):(d(),z("div",ht,J(i.department),1))]),_:2},1032,["prop"])]),action:o(({row:i,$index:$})=>[C("div",xt,[i.isEdit?(d(),V(w,{key:0,type:"success",underline:!1,onClick:E=>u(i)},{default:o(()=>e[3]||(e[3]=[M(" 完成 ")])),_:2},1032,["onClick"])):(d(),V(w,{key:1,type:"primary",underline:!1,onClick:E=>r(i)},{default:o(()=>e[4]||(e[4]=[M(" 编辑 ")])),_:2},1032,["onClick"])),l(y,{direction:"vertical",style:{margin:"0 8px"}}),l(w,{type:"danger",underline:!1,onClick:E=>x(i,$)},{default:o(()=>e[5]||(e[5]=[M(" 删除 ")])),_:2},1032,["onClick"])])]),_:1},8,["columns","data"])]),_:1},8,["model"])])}}},wt=ee(kt,[["__scopeId","data-v-b98c7b65"]]),Ct={style:{"padding-top":"8px"}},St={__name:"sortable-table",setup(P){let b=null;const p=k(null),f=k([]),v=k([{columnKey:"handle",width:58,align:"center",slot:"handle",fixed:"left",hideInSetting:!0,hideInPrint:!0,hideInExport:!0},{type:"selection",columnKey:"selection",width:50,align:"center",fixed:"left",reserveSelection:!0},{prop:"username",label:"用户账号",minWidth:110},{prop:"nickname",label:"用户名",minWidth:110},{columnKey:"sex",prop:"sexName",label:"性别",width:110,align:"center",filters:[{text:"男",value:"1"},{text:"女",value:"2"}],filterMultiple:!1},{prop:"createTime",label:"创建时间",width:180,align:"center"},{prop:"status",label:"状态",width:130,align:"center",slot:"status",fixed:"right",formatter:r=>r.status==0?"正常":"冻结"}]),a=({where:r,orders:u,filters:t})=>ie({...r,...u,...t});Ie(()=>{var t;const r=(t=p.value)==null?void 0:t.$el;if(!r)return;const u=r.querySelector(".el-table__inner-wrapper > .el-table__body-wrapper .el-table__body > tbody");b=new Ne(u,{animation:300,draggable:".el-table__row",handle:".sort-handle",forceFallback:!0,onUpdate:({oldDraggableIndex:e,newDraggableIndex:s})=>{var _,g,m,c,w;if(typeof e=="number"&&typeof s=="number"){const y=[...(m=(g=(_=p.value)==null?void 0:_.getData)==null?void 0:g.call(_))!=null?m:[]];y.splice(s,0,y.splice(e,1)[0]),(w=(c=p.value)==null?void 0:c.setData)==null||w.call(c,y),Array.from(u.querySelectorAll(".el-table__row.hover-row")).forEach(h=>{h.classList.remove("hover-row")})}},onChange:()=>{Array.from(u.querySelectorAll(".el-table__row.hover-row")).forEach(e=>{e.classList.remove("hover-row")})},setData:()=>{}})}),Ve(()=>{b&&(b.destroy(),b=null)});const x=()=>{var t,e,s;const r=(s=(e=(t=p.value)==null?void 0:t.getData)==null?void 0:e.call(t))!=null?s:[],u=[...f.value].sort((_,g)=>{const m=r.findIndex(w=>w.userId===_.userId),c=r.findIndex(w=>w.userId===g.userId);return m-c});console.log(JSON.parse(JSON.stringify(u))),T.success(`共选中 ${f.value.length} 条数据, 已打印在控制台`)};return(r,u)=>{const t=Me,e=ue,s=Q,_=A;return d(),z("div",Ct,[l(_,{ref_key:"tableRef",ref:p,"row-key":"userId",columns:v.value,datasource:a,"show-overflow-tooltip":!0,pagination:!1,selections:f.value,"onUpdate:selections":u[0]||(u[0]=g=>f.value=g),class:"sortable-table","export-config":{fileName:"用户数据"}},{handle:o(()=>[l(t,{icon:me(ze),type:"placeholder",class:"sort-handle"},null,8,["icon"])]),status:o(({row:g})=>[g.status===0?(d(),V(e,{key:0,text:"正常",size:"8px"})):g.status===1?(d(),V(e,{key:1,text:"冻结",type:"danger",ripple:!1,size:"8px"})):q("",!0)]),toolbar:o(()=>[l(s,{type:"primary",onClick:x,class:"ele-btn-icon"},{default:o(()=>u[1]||(u[1]=[M(" 获取选中 ")])),_:1})]),_:1},8,["columns","selections"])])}}},$t=ee(St,[["__scopeId","data-v-54625607"]]),Dt={class:"option-wrapper"},It={__name:"demo-selections",setup(P){const b=Array.from({length:39}).map((y,h)=>{const N=h+1,i=String(N).padStart(3,"0"),$=["机密","秘密","公开","绝密","内部"],E=["永久","定期10年","定期20年"],U=["Y","D10","D20"],R=X(0,E.length),O="2020";return{pieceId:N,title:`教学档案${i}`,pieceNo:`ELE101-${U[R]}-ZM•JX-${O}-${i}`,secret:$[X(0,$.length)],retention:E[R],year:O,amount:X(2,10)}}),p=k(!1),f=k(!1),v=k(null),a=k([{type:"selection",columnKey:"selection",width:50,align:"center",fixed:"left",reserveSelection:p.value,selectable:y=>![1,5,8].includes(y.pieceId)},{type:"index",columnKey:"index",width:50,align:"center",fixed:"left"},{prop:"pieceNo",label:"案卷档号",minWidth:260},{prop:"title",label:"案卷题名",minWidth:160},{prop:"retention",label:"保管期限",minWidth:110,align:"center",filters:[{text:"永久",value:"永久"},{text:"定期10年",value:"定期10年"},{text:"定期20年",value:"定期20年"}],filterMultiple:!1},{prop:"amount",label:"件数",minWidth:110,align:"center"},{prop:"secret",label:"密级",minWidth:110,align:"center",filters:[{text:"机密",value:"机密"},{text:"秘密",value:"秘密"},{text:"公开",value:"公开"},{text:"绝密",value:"绝密"},{text:"内部",value:"内部"}],filterMultiple:!0},{prop:"year",label:"归档年度",minWidth:110,align:"center"}]),x=async({pages:y,filter:h})=>{var R,O;await new Promise(B=>setTimeout(B,100));const N=(R=h.secret)!=null&&R.length?h.secret:null,i=(O=h.retention)!=null&&O.length?h.retention:null,$=b.filter(B=>!(N!=null&&(!B.secret||!N.includes(B.secret))||i!=null&&(!B.retention||!i.includes(B.retention)))),E=((y.page||1)-1)*(y.limit||10),U=E+(y.limit||10);return{count:$.length,list:$.slice(E,U>$.length?$.length:U)}},r=k([]),u=k(null),t=()=>{console.log(JSON.parse(JSON.stringify(r.value))),T.success("共 "+r.value.length+" 条数据已打印在控制台")},e=()=>{var y,h;(h=(y=v.value)==null?void 0:y.setSelectedRows)==null||h.call(y,[b[1],b[2],b[5]])},s=()=>{r.value=[]},_=()=>{u.value?(console.log(JSON.parse(JSON.stringify(u.value))),T.success(u.value.pieceNo+"的数据已打印在控制台")):T.success("未选中任何数据")},g=()=>{var y,h;(h=(y=v.value)==null?void 0:y.setCurrentRow)==null||h.call(y,b[3])},m=()=>{u.value=null},c=()=>{a.value[0].reserveSelection=p.value},w=async({filter:y})=>(await x({filter:y,pages:{page:1,limit:1e3}})).list;return(y,h)=>{const N=de,i=Q,$=_e,E=A;return d(),z("div",null,[C("div",Dt,[l(H,{label:"翻页保留多选",responsive:!1},{default:o(()=>[l(N,{modelValue:p.value,"onUpdate:modelValue":h[0]||(h[0]=U=>p.value=U),size:"small",onChange:c},null,8,["modelValue"])]),_:1}),l(H,{label:"翻页保留单选",responsive:!1},{default:o(()=>[l(N,{modelValue:f.value,"onUpdate:modelValue":h[1]||(h[1]=U=>f.value=U),size:"small"},null,8,["modelValue"])]),_:1})]),l(E,{ref_key:"tableRef",ref:v,"row-key":"pieceId",columns:a.value,datasource:x,"show-overflow-tooltip":!0,selections:r.value,"onUpdate:selections":h[2]||(h[2]=U=>r.value=U),current:u.value,"onUpdate:current":h[3]||(h[3]=U=>u.value=U),"highlight-current-row":"",reserveCurrent:f.value,pagination:{pageSize:10,pageSizes:[10,20,40]},"export-config":{fileName:"档案数据",datasource:w},"print-config":{datasource:w}},{toolbar:o(()=>[l($,{size:12,wrap:""},{default:o(()=>[l(i,{type:"primary",class:"ele-btn-icon",onClick:t},{default:o(()=>h[4]||(h[4]=[M(" 获取多选 ")])),_:1}),l(i,{type:"warning",class:"ele-btn-icon",onClick:e},{default:o(()=>h[5]||(h[5]=[M(" 修改多选 ")])),_:1}),l(i,{type:"danger",class:"ele-btn-icon",onClick:s},{default:o(()=>h[6]||(h[6]=[M(" 清空多选 ")])),_:1}),l(i,{plain:"",type:"primary",class:"ele-btn-icon",onClick:_},{default:o(()=>h[7]||(h[7]=[M(" 获取单选 ")])),_:1}),l(i,{plain:"",type:"warning",class:"ele-btn-icon",onClick:g},{default:o(()=>h[8]||(h[8]=[M(" 修改单选 ")])),_:1}),l(i,{plain:"",type:"danger",class:"ele-btn-icon",onClick:m},{default:o(()=>h[9]||(h[9]=[M(" 清空单选 ")])),_:1})]),_:1})]),_:1},8,["columns","selections","current","reserveCurrent","export-config","print-config"])])}}},Nt=ee(It,[["__scopeId","data-v-9767ca40"]]),Vt={__name:"demo-contextmenu",setup(P){const b=k(null),p=k([{type:"index",columnKey:"index",width:50,align:"center"},{prop:"username",label:"用户账号",sortable:"custom",minWidth:140},{prop:"nickname",label:"用户名",sortable:"custom",minWidth:140},{prop:"sexName",label:"性别",sortable:"custom",width:110,align:"center"},{prop:"createTime",label:"创建时间",sortable:"custom",minWidth:180,align:"center"}]),f=({pages:m,orders:c,filters:w})=>fe({...c,...w,...m}),v=({orders:m,filters:c})=>ie({...m,...c}),a=k(null),x=k([]),r=k();let u=null;const t=ne({marginLeft:"0px"}),e=m=>[{title:"重置密码",command:"psw",icon:Z(We)},{title:"修改用户",command:"edit",icon:Z(Ke)},{title:"导出用户",command:"export",icon:Z(Te),children:[{title:"导出XLS",command:"exportXlsx",icon:Z(ce)},{title:"导出CSV",command:"exportCsv",icon:Z(ce)},{title:"导出HTML",command:"exportHtml",icon:Z(ce)}]},{title:"删除用户",command:"del",icon:Z(Re),danger:!0,divided:!0}],s=(m,c)=>{a.value&&a.value.handleClose(),ae(()=>{u=c,x.value=e()||[],r.value=m,x.value.length&&ae(()=>{a.value&&a.value.handleOpen()})})},_=m=>{const c=u;c!=null&&(m==="psw"?T.info({message:`点击了重置密码: ${c.nickname}`,plain:!0}):m==="edit"?T.info({message:`点击了修改: ${c.nickname}`,plain:!0}):m==="del"?T.info({message:`点击了删除: ${c.nickname}`,plain:!0}):m==="exportXlsx"?T.info({message:`点击了导出XLS: ${c.nickname}`,plain:!0}):m==="exportCsv"?T.info({message:`点击了导出CSV: ${c.nickname}`,plain:!0}):m==="exportHtml"&&T.info({message:`点击了导出HTML: ${c.nickname}`,plain:!0}))},g=(m,c,w)=>{var N,i;w.preventDefault(),w.stopPropagation();const y=w.currentTarget,h=y.getBoundingClientRect();t.marginLeft=`${w.clientX-h.left-h.width/2}px`,(i=(N=b.value)==null?void 0:N.setCurrentRow)==null||i.call(N,m),s(y,m)};return(m,c)=>{const w=A,y=Ee;return d(),z("div",null,[l(w,{ref_key:"tableRef",ref:b,"row-key":"userId",columns:p.value,datasource:f,"show-overflow-tooltip":!0,"highlight-current-row":!0,"export-config":{fileName:"用户数据",datasource:v},"print-config":{datasource:v},onRowContextmenu:g},null,8,["columns","export-config","print-config"]),l(y,{ref_key:"ctxMenuDropdownRef",ref:a,trigger:"click","trigger-keys":[],"icon-props":{size:15},"popper-options":{strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,-12]}}]},persistent:!1,"component-type":"pro","prevent-contextmenu":!0,"virtual-triggering":!0,"virtual-ref":r.value,disabled:!x.value.length,items:x.value,"popper-style":t,onCommand:_},null,8,["virtual-ref","disabled","items","popper-style"])])}}},Mt={class:"option-wrapper"},zt={__name:"virtual-base",setup(P){const b=[],p=k([{type:"selection",columnKey:"selection",width:52,align:"center",fixed:"left"},{type:"index",columnKey:"index",width:68,fixed:"left"},{label:"用户账号",prop:"username",minWidth:160,sortable:"custom"},{label:"用户名",prop:"nickname",minWidth:160,sortable:"custom"},{label:"性别",prop:"sex",width:120,sortable:"custom",align:"center"},{label:"角色",prop:"roles",slot:"roles",minWidth:160,filters:[{text:"管理员",value:"管理员"},{text:"普通用户",value:"普通用户"},{text:"游客",value:"游客"}],filterMultiple:!0,align:"center"},{label:"手机号码",prop:"phone",minWidth:160,sortable:"custom",align:"center"},{label:"邮箱",prop:"email",minWidth:180,sortable:"custom",align:"center"},{prop:"status",label:"状态",width:120,sortable:"custom",slot:"status",align:"center",filters:[{text:"正常",value:"0"},{text:"冻结",value:"1"}],filterMultiple:!1,formatter:N=>N.status==0?"正常":"冻结"},{label:"出生日期",prop:"birthday",width:160,align:"center",sortable:"custom"},{label:"创建时间",prop:"createTime",width:180,sortable:"custom",align:"center"},{columnKey:"action",label:"操作",width:160,align:"center",slot:"action",fixed:"right",hideInPrint:!0,hideInExport:!0}]),f=async({pages:N,filter:i,orders:$})=>{var S,n;await new Promise(D=>setTimeout(D,100)),b.length||Array.from({length:1e4}).forEach((D,W)=>{const K=W+1,Y="user-"+String(K).padStart(6,"0"),F=Math.random(),j={userId:K,username:Y,nickname:"用户"+K,sex:F<.8?"男":"女",roles:[F<.3?"管理员":"普通用户"],phone:String(12345678900+K),email:Y+"@eleadmin.com",status:F<.2?"1":"0",birthday:G().subtract(3*K,"h").format("YYYY-MM-DD"),createTime:G().subtract(45*K,"s").format("YYYY-MM-DD HH:mm:ss")};b.push(j)});const E=(S=i.roles)!=null&&S.length?i.roles:null,U=(n=i.status)!=null&&n.length?i.status:null,R=b.filter(D=>!(E!=null&&(!D.roles||!D.roles.some(W=>E.includes(W)))||U!=null&&(D.status==null||!U.includes(D.status))));$!=null&&$.sort&&R.sort((D,W)=>{const K=D[$.sort],Y=W[$.sort];if(K==Y)return 0;const F=K<Y?-1:1;return $.order==="desc"?-F:F});const O=((N.page||1)-1)*(N.limit||10),B=O+(N.limit||10);return{count:R.length,list:R.slice(O,B>R.length?R.length:B)}},v=k([]),a=k(null),x=k(!1),r=k(!1),u=k(!1),t=k(!0),e=k(!0),s=k(!1),_=k(!1),g=N=>{T.success("编辑:"+N.nickname)},m=N=>{T.error("删除:"+N.nickname)},c=({columns:N,data:i})=>{const $=[];return N.forEach((E,U)=>{if(E.property==="sex"){const R=i.filter(O=>O.sex=="女").length;$[U]=(R/i.length*100).toFixed(2)+"% (女)"}else E.property==="status"?$[U]=i.filter(R=>R.status=="1").length+" (冻结)":E.property==="username"&&($[U]="合计")}),$},w=()=>{console.log(JSON.parse(JSON.stringify(v.value))),T.success("共 "+v.value.length+" 条数据已打印在控制台")},y=()=>{a.value?(console.log(JSON.parse(JSON.stringify(a.value))),T.success(a.value.nickname+"的数据已打印在控制台")):T.success("未选中任何数据")},h=async({filter:N,orders:i})=>(await f({filter:N,orders:i,pages:{page:1,limit:b.length}})).list;return(N,i)=>{const $=de,E=Q,U=pe,R=ue,O=te,B=le,S=A;return d(),z("div",null,[C("div",Mt,[l(H,{label:"表头背景",responsive:!1},{default:o(()=>[l($,{modelValue:x.value,"onUpdate:modelValue":i[0]||(i[0]=n=>x.value=n),size:"small"},null,8,["modelValue"])]),_:1}),l(H,{label:"显示边框",responsive:!1},{default:o(()=>[l($,{modelValue:r.value,"onUpdate:modelValue":i[1]||(i[1]=n=>r.value=n),size:"small"},null,8,["modelValue"])]),_:1}),l(H,{label:"显示斑马纹",responsive:!1},{default:o(()=>[l($,{modelValue:u.value,"onUpdate:modelValue":i[2]||(i[2]=n=>u.value=n),size:"small"},null,8,["modelValue"])]),_:1}),l(H,{label:"显示表头",responsive:!1},{default:o(()=>[l($,{modelValue:t.value,"onUpdate:modelValue":i[3]||(i[3]=n=>t.value=n),size:"small"},null,8,["modelValue"])]),_:1}),l(H,{label:"显示表尾合计行",responsive:!1},{default:o(()=>[l($,{modelValue:e.value,"onUpdate:modelValue":i[4]||(i[4]=n=>e.value=n),size:"small"},null,8,["modelValue"])]),_:1}),l(H,{label:"行点击高亮",responsive:!1},{default:o(()=>[l($,{modelValue:s.value,"onUpdate:modelValue":i[5]||(i[5]=n=>s.value=n),size:"small"},null,8,["modelValue"])]),_:1}),l(H,{label:"行点击勾选",responsive:!1},{default:o(()=>[l($,{modelValue:_.value,"onUpdate:modelValue":i[6]||(i[6]=n=>_.value=n),size:"small"},null,8,["modelValue"])]),_:1})]),l(S,{height:418,virtual:!0,"row-key":"userId",columns:p.value,datasource:f,"show-overflow-tooltip":!0,"highlight-current-row":s.value,"row-click-checked":_.value,selections:v.value,"onUpdate:selections":i[7]||(i[7]=n=>v.value=n),current:a.value,"onUpdate:current":i[8]||(i[8]=n=>a.value=n),pagination:{pageSize:2e3,pageSizes:[1e3,2e3,5e3,1e4]},toolbar:{theme:x.value?"default":"plain"},border:r.value,stripe:u.value,"show-header":t.value,"show-summary":e.value,"summary-method":c,"export-config":{fileName:"用户数据",datasource:h},"print-config":{datasource:h}},{toolbar:o(()=>[l(E,{type:"primary",class:"ele-btn-icon",onClick:w},{default:o(()=>i[9]||(i[9]=[M(" 获取多选行数据 ")])),_:1}),s.value?(d(),V(E,{key:0,type:"primary",class:"ele-btn-icon",onClick:y},{default:o(()=>i[10]||(i[10]=[M(" 获取单选行数据 ")])),_:1})):q("",!0)]),roles:o(({row:n})=>[(d(!0),z(oe,null,re(n.roles,D=>(d(),V(U,{key:D,size:"small","disable-transitions":!0,style:{"margin-right":"6px"}},{default:o(()=>[M(J(D),1)]),_:2},1024))),128))]),status:o(({row:n})=>[n.status==0?(d(),V(R,{key:0,text:"正常",size:"8px"})):n.status==1?(d(),V(R,{key:1,text:"冻结",type:"danger",ripple:!1,size:"8px"})):q("",!0)]),action:o(({row:n})=>[l(O,{type:"primary",underline:!1,onClick:D=>g(n)},{default:o(()=>i[11]||(i[11]=[M(" 修改 ")])),_:2},1032,["onClick"]),l(B,{direction:"vertical"}),l(O,{type:"danger",underline:!1,onClick:D=>m(n)},{default:o(()=>i[12]||(i[12]=[M(" 删除 ")])),_:2},1032,["onClick"])]),_:1},8,["columns","highlight-current-row","row-click-checked","selections","current","toolbar","border","stripe","show-header","show-summary","export-config","print-config"])])}}},Et=ee(zt,[["__scopeId","data-v-f12f19a3"]]),Wt={__name:"virtual-header",setup(P){const b=[["浙江","杭州","西湖区"],["江苏","苏州","姑苏区"],["江西","南昌","青山湖区"],["福建","泉州","丰泽区"],["湖北","武汉","武昌区"],["安徽","黄山","黄山区"]],p=[],f=k([{type:"index",columnKey:"index",width:68,align:"center",fixed:"left"},{label:"用户账号",prop:"username",minWidth:160,sortable:"custom"},{label:"用户名",prop:"nickname",minWidth:160,sortable:"custom"},{label:"家庭住址",prop:"address",align:"center",children:[{label:"省份",prop:"province",width:120,sortable:"custom"},{label:"城市",prop:"city",width:120,sortable:"custom"},{label:"区域",prop:"zone",width:180,sortable:"custom"}]},{label:"创建时间",prop:"createTime",width:180,sortable:"custom",align:"center"}]),v=async({pages:x,orders:r})=>{await new Promise(s=>setTimeout(s,100)),p.length||Array.from({length:2e3}).forEach((s,_)=>{const g=_+1,m="user-"+String(g).padStart(6,"0"),c=Math.floor(Math.random()*(0-b.length)+b.length),[w,y,h]=b[c],N={userId:g,username:m,nickname:"用户"+g,createTime:G().subtract(45*g,"s").format("YYYY-MM-DD HH:mm:ss"),province:w,city:y,zone:h};p.push(N)});const u=[...p];r!=null&&r.sort&&u.sort((s,_)=>{const g=s[r.sort],m=_[r.sort];if(g==m)return 0;const c=g<m?-1:1;return r.order==="desc"?-c:c});const t=((x.page||1)-1)*(x.limit||10),e=t+(x.limit||10);return{count:u.length,list:u.slice(t,e>u.length?u.length:e)}},a=async({orders:x})=>(await v({orders:x,pages:{page:1,limit:p.length}})).list;return(x,r)=>{const u=A;return d(),z("div",null,[l(u,{height:418,virtual:!0,"row-key":"userId",columns:f.value,datasource:v,"show-overflow-tooltip":!0,pagination:{pageSize:1e3,pageSizes:[1e3,2e3]},border:!0,toolbar:{theme:"default"},"table-style":{overflow:"hidden"},"export-config":{fileName:"用户数据",datasource:a},"print-config":{datasource:a}},null,8,["columns","export-config","print-config"])])}}},Kt={__name:"virtual-merge",setup(P){const b=k([{type:"index",columnKey:"index",width:50,align:"center"},{columnKey:"userName",prop:"userName",label:"姓名"},{prop:"courseName",label:"课程"},{prop:"score",label:"得分"}]),p=()=>ve(),f=({row:v,column:a})=>a.columnKey==="userName"?[v.userNameRowSpan,1]:[1,1];return(v,a)=>{const x=A;return d(),z("div",null,[l(x,{height:370,border:!0,virtual:!0,"row-key":"userId",columns:b.value,datasource:p,"span-method":f,toolbar:{theme:"default"},"show-overflow-tooltip":!0,"export-config":{fileName:"成绩数据"}},null,8,["columns"])])}}},Tt={__name:"virtual-tree",setup(P){const b=k([{type:"index",columnKey:"index",width:50,align:"center"},{prop:"title",label:"菜单名称",minWidth:160},{prop:"path",label:"路由地址",minWidth:180},{prop:"sortNumber",label:"排序",width:100,align:"center"},{prop:"createTime",label:"创建时间",width:220,align:"center"}]),p=({where:v,parent:a})=>se({...v,parentId:(a==null?void 0:a.menuId)||0}),f=async({where:v})=>{const a=await se({...v});return ge({data:a,idField:"menuId",parentIdField:"parentId"})};return(v,a)=>{const x=A;return d(),z("div",null,[l(x,{height:378,virtual:!0,"row-key":"menuId",columns:b.value,datasource:p,lazy:!0,pagination:!1,"show-overflow-tooltip":!0,"export-config":{fileName:"菜单数据",datasource:f},"print-config":{datasource:f}},null,8,["columns","export-config","print-config"])])}}},Rt={style:{padding:"12px 16px 12px 32px"}},Ut={style:{"margin-top":"12px"}},Yt={style:{"margin-top":"12px"}},Pt={__name:"virtual-expandable",setup(P){const b=[],p=k([{type:"expand",columnKey:"expand",width:52,align:"center",slot:"expand",fixed:"left",formatter:a=>[`角色：${a.roles.join()}`,`出生日期：${a.birthday}`,`邮箱账户：${a.email}`].join(`
`)},{type:"index",columnKey:"index",width:68,fixed:"left"},{label:"用户账号",prop:"username",minWidth:160,sortable:"custom"},{label:"用户名",prop:"nickname",minWidth:160,sortable:"custom"},{label:"性别",prop:"sex",width:120,sortable:"custom",align:"center"},{label:"手机号码",prop:"phone",minWidth:160,sortable:"custom",align:"center"},{prop:"status",label:"状态",width:120,sortable:"custom",slot:"status",align:"center",filters:[{text:"正常",value:"0"},{text:"冻结",value:"1"}],filterMultiple:!1,formatter:a=>a.status==0?"正常":"冻结"},{label:"创建时间",prop:"createTime",width:180,sortable:"custom",align:"center"}]),f=async({pages:a,filter:x,orders:r})=>{var _;await new Promise(g=>setTimeout(g,100)),b.length||Array.from({length:2e3}).forEach((g,m)=>{const c=m+1,w="user-"+String(c).padStart(6,"0"),y=Math.random(),h={userId:c,username:w,nickname:"用户"+c,sex:y<.8?"男":"女",roles:[y<.3?"管理员":"普通用户"],phone:String(12345678900+c),email:w+"@eleadmin.com",status:y<.2?"1":"0",birthday:G().subtract(3*c,"h").format("YYYY-MM-DD"),createTime:G().subtract(45*c,"s").format("YYYY-MM-DD HH:mm:ss")};b.push(h)});const u=(_=x.status)!=null&&_.length?x.status:null,t=b.filter(g=>!(u!=null&&(g.status==null||!u.includes(g.status))));r!=null&&r.sort&&t.sort((g,m)=>{const c=g[r.sort],w=m[r.sort];if(c==w)return 0;const y=c<w?-1:1;return r.order==="desc"?-y:y});const e=((a.page||1)-1)*(a.limit||10),s=e+(a.limit||10);return{count:t.length,list:t.slice(e,s>t.length?t.length:s)}},v=async({filter:a,orders:x})=>(await f({filter:a,orders:x,pages:{page:1,limit:b.length}})).list;return(a,x)=>{const r=ue,u=pe,t=A;return d(),z("div",null,[l(t,{height:378,virtual:!0,"row-key":"userId",columns:p.value,datasource:f,"show-overflow-tooltip":!0,pagination:{pageSize:1e3,pageSizes:[1e3,2e3]},"export-config":{fileName:"用户数据",datasource:v},"print-config":{datasource:v}},{status:o(({row:e})=>[e.status==0?(d(),V(r,{key:0,text:"正常",size:"8px"})):e.status==1?(d(),V(r,{key:1,text:"冻结",type:"danger",ripple:!1,size:"8px"})):q("",!0)]),expand:o(({row:e})=>[C("div",Rt,[C("div",null,[x[0]||(x[0]=C("span",null,"角  色：",-1)),C("span",null,[(d(!0),z(oe,null,re(e.roles,s=>(d(),V(u,{key:s,size:"small","disable-transitions":!0,style:{"margin-right":"6px"}},{default:o(()=>[M(J(s),1)]),_:2},1024))),128))])]),C("div",Ut,[x[1]||(x[1]=C("span",null,"出生日期：",-1)),C("span",null,J(e.birthday),1)]),C("div",Yt,[x[2]||(x[2]=C("span",null,"邮箱账户：",-1)),C("span",null,J(e.email),1)])])]),_:1},8,["columns","export-config","print-config"])])}}},Ft=Object.assign({name:"ExtensionTable"},{__name:"index",setup(P){const{mobile:b}=Ue(),p=k(null),f=k("base"),v=k([{index:"base",title:"基础示例"},{index:"tree",title:"树表格懒加载"},{index:"sorter",title:"默认排序筛选"},{index:"nested",title:"嵌套表格"},{index:"expandable",title:"可展开行"},{index:"merge",title:"合并单元格"},{index:"editable",title:"编辑表格"},{index:"sortable",title:"拖拽排序"},{index:"selections",title:"单选多选"},{index:"contextmenu",title:"鼠标右键"},{index:"virtual",title:"以下为虚拟滚动表格",group:!0,children:[{index:"virtual-base",title:"基础示例"},{index:"virtual-header",title:"多级表头"},{index:"virtual-merge",title:"合并单元格"},{index:"virtual-tree",title:"树形表格"},{index:"virtual-expandable",title:"可展开行"}]}]),a=x=>{var r,u;f.value=x.index,b.value&&((u=(r=p.value)==null?void 0:r.toggleCollapse)==null||u.call(r,!0))};return(x,r)=>{const u=Ye,t=He,e=Fe,s=be;return d(),V(s,{"multi-card":!1},{default:o(()=>[l(e,{"body-style":{padding:0,overflow:"hidden"}},{default:o(()=>[l(t,{ref_key:"splitRef",ref:p,space:"0px",size:"180px","allow-collapse":me(b),"custom-style":{borderWidth:"0 1px 0 0",padding:"10px 0"},"body-style":{padding:"10px 20px 14px 16px",overflow:"hidden"},"collapse-style":{marginLeft:"4px"},style:{"min-height":"708px","border-radius":"var(--ele-card-radius)"}},{body:o(()=>[l(Pe,{name:"slide-right",mode:"out-in"},{default:o(()=>[f.value=="base"?(d(),V(et,{key:0})):f.value=="tree"?(d(),V(tt,{key:1})):f.value=="sorter"?(d(),V(lt,{key:2})):f.value=="nested"?(d(),V(ct,{key:3})):f.value=="expandable"?(d(),V(_t,{key:4})):f.value=="merge"?(d(),V(gt,{key:5})):f.value=="editable"?(d(),V(wt,{key:6})):f.value=="sortable"?(d(),V($t,{key:7})):f.value=="selections"?(d(),V(Nt,{key:8})):f.value=="contextmenu"?(d(),V(Vt,{key:9})):f.value=="virtual-base"?(d(),V(Et,{key:10})):f.value=="virtual-header"?(d(),V(Wt,{key:11})):f.value=="virtual-merge"?(d(),V(Kt,{key:12})):f.value=="virtual-tree"?(d(),V(Tt,{key:13})):f.value=="virtual-expandable"?(d(),V(Pt,{key:14})):q("",!0)]),_:1})]),default:o(()=>[l(u,{items:v.value,"default-active":f.value,class:"demo-menu",onItemClick:a},null,8,["items","default-active"])]),_:1},8,["allow-collapse"])]),_:1})]),_:1})}}}),rl=ee(Ft,[["__scopeId","data-v-efdae67f"]]);export{rl as default};
