import{L as Y,r as u,R as Z,c as R,o as n,w as k,d as H,n as p,a5 as B,b as w,a7 as g,F as U,p as A,a6 as M,a1 as $,u as d,aD as ne,bU as N,f as ie,aw as re,eX as ce,bW as ue,I as F,aR as K,t as X,aK as pe,b7 as de,bY as ve,bZ as me,e_ as fe,e8 as ye,fA as he,E as be,a8 as ge}from"./index-C4Wz-E93.js";import{_ as Se}from"./index-DYYlaXLw.js";const Ce=["title","onClick","onMouseover"],Ve={key:0,class:"ele-icon-select-empty"},ke=Y({name:"IconGrid",__name:"icon-grid",props:{icon:String,data:{type:Array,required:!0},emptyProps:Object,tooltip:Boolean,tooltipProps:Object,popperVisible:Boolean,gridStyle:Object,itemStyle:Object},emits:{select:l=>!0},setup(l,{expose:O,emit:P}){const t=l,v=P,S=u(!1),j=u(""),m=u(),f=a=>{S.value=a},r=()=>{f(!1)},c=(a,b)=>{t.tooltip&&t.popperVisible&&a&&(m.value=b.currentTarget,j.value=a,S.value=!0)},y=a=>{v("select",a)};return Z(()=>t.popperVisible,a=>{a||r()}),O({hideTooltip:r}),(a,b)=>(n(),R(d(re),{class:"ele-icon-select-body"},{default:k(()=>[H("div",{class:"ele-icon-select-grid",style:g(l.gridStyle)},[(n(!0),p(U,null,A(l.data,(i,E)=>(n(),p("div",{key:E+"-"+i,class:M(["ele-icon-select-item",{"is-active":l.icon&&i===l.icon}]),title:l.tooltip?void 0:i,style:g(l.itemStyle),onClick:I=>y(i),onMouseover:I=>c(i,I)},[$(a.$slots,"icon",{icon:i,prefix:!1})],46,Ce))),128))],4),!l.data||!l.data.length?(n(),p("div",Ve,[w(d(ne),N({imageSize:60},l.emptyProps||{}),null,16)])):B("",!0),w(ie,N({placement:"top",offset:6,teleported:!1},l.tooltipProps||{},{visible:S.value,content:j.value,virtualRef:m.value,virtualTriggering:!0,"onUpdate:visible":f}),null,16,["visible","content","virtualRef"])]),_:3}))}}),J={modelValue:String,data:Array,disabled:Boolean,size:String,clearable:Boolean,placeholder:String,automaticDropdown:Boolean,filterable:[Boolean,String],teleported:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},placement:{type:String,default:"bottom-start"},transition:{type:String,default:"el-zoom-in-top"},popperOptions:Object,popperClass:String,popperWidth:{type:[Number,String],default:414},popperHeight:{type:[Number,String],default:260},selectStyle:Object,inputStyle:Object,selectTagsStyle:Object,hideOnSingleTab:Boolean,emptyProps:Object,tooltip:{type:Boolean,default:!0},tooltipProps:Object,headerStyle:Object,tabsStyle:Object,searchStyle:Object,menusStyle:Object,bodyStyle:Object,gridStyle:Object,itemStyle:Object,filterPlaceholder:{type:String,default:""},responsive:{type:Boolean,default:null}},W={"update:modelValue":l=>!0,change:l=>!0,visibleChange:l=>!0,clear:()=>!0,focus:l=>!0,blur:l=>!0},Oe=["onClick"],Pe={class:"ele-icon-select-main"},je=["onClick"],Be=Y({name:"EleIconSelect",__name:"index",props:J,emits:W,setup(l,{expose:O,emit:P}){const t=l,v=P,{validateChange:S}=ce(),j=ue(t),m=u(null),f=u(!1),r=u([]),c=u(),y=u([]),a=u(),b=u([]),i=u(""),E=F(()=>!(!r.value||!r.value.length||t.hideOnSingleTab&&r.value.length===1)),I=F(()=>{const e=["ele-icon-select-popper"];return j.value&&e.push("is-responsive"),t.popperClass&&e.push(t.popperClass),e.join(" ")}),Q=F(()=>{if(t.popperHeight)return{height:typeof t.popperHeight=="number"?`${t.popperHeight}px`:t.popperHeight}}),_=()=>{m.value&&m.value.updatePopper()},C=()=>{if(t.data==null||!t.data.length||typeof t.data[0]=="string"){r.value=[],y.value=[],c.value=void 0,a.value=void 0,b.value=T(t.data);return}r.value=t.data.map(h=>h.title),(c.value==null||c.value>=r.value.length)&&(c.value=0);const e=t.data[c.value];if(typeof e!="string"&&e.children!=null&&e.children.length){y.value=e.children.map(h=>h.title),(a.value==null||a.value>=y.value.length)&&(a.value=0),b.value=T(e.children[a.value].icons);return}y.value=[],a.value=void 0,b.value=typeof e!="string"?T(e.icons):[]},T=e=>{if(!e)return[];if(!i.value)return e;const h=i.value.toLowerCase();return e.filter(o=>o.toLowerCase().includes(h))},z=e=>{e&&L(""),f.value!==e&&(f.value=e,v("visibleChange",e))},q=e=>{fe(e,t.modelValue)&&(v("update:modelValue",e),S(),v("change",e))},x=()=>{q(null),z(!1),v("clear")},ee=e=>{v("focus",e)},te=e=>{v("blur",e)},L=e=>{var h;if(i.value!==e&&(i.value=e),C(),!(!((h=t.data)!=null&&h.length)||b.value.length))for(let o=0;o<t.data.length;o++){const s=t.data[o];if(typeof s=="string")return;const D=i.value.toLowerCase();if(s.children!=null&&s.children.length)for(let V=0;V<s.children.length;V++){const G=s.children[V].icons;if(G&&G.some(se=>se.toLowerCase().includes(D))){a.value=V,c.value=o,C();return}}else if(s.icons!=null&&s.icons.some(V=>V.toLowerCase().includes(D))){c.value=o,C();return}}},le=e=>{c.value=e,C()},ae=e=>{a.value=e,C()},oe=e=>{q(e),z(!1)};return Z(()=>t.data,()=>{C()},{immediate:!0,deep:!0}),O({selectRef:m,updatePopover:_}),(e,h)=>(n(),R(Se,{ref_key:"selectRef",ref:m,value:e.modelValue,multiple:!1,disabled:e.disabled,size:e.size,clearable:e.clearable,placeholder:e.placeholder,automaticDropdown:e.automaticDropdown,filterable:typeof e.filterable=="boolean"?e.filterable:!1,teleported:e.teleported,persistent:e.persistent,placement:e.placement,transition:e.transition,popperWidth:e.popperWidth,popperOptions:e.popperOptions,popperClass:I.value,selectClass:"is-icon-select",selectStyle:e.selectStyle,inputStyle:e.inputStyle,selectTagsStyle:e.selectTagsStyle,selectedLabel:e.modelValue,visible:f.value,"onUpdate:visible":z,onFilterChange:L,onClear:x,onFocus:ee,onBlur:te},K({default:k(()=>[H("div",{class:"ele-icon-select",style:g(Q.value)},[E.value||e.filterable==="popper"?(n(),p("div",{key:0,class:"ele-icon-select-header",style:g(e.headerStyle)},[$(e.$slots,"tabLeftExtra"),E.value?(n(),p("div",{key:0,class:"ele-icon-select-tabs",style:g(e.tabsStyle)},[(n(!0),p(U,null,A(r.value,(o,s)=>(n(),p("div",{key:s+"-"+o,class:M(["ele-icon-select-tab",{"is-active":s===c.value}]),onClick:D=>le(s)},X(o),11,Oe))),128))],4)):B("",!0),e.filterable==="popper"?(n(),p("div",{key:1,class:"ele-icon-select-search",style:g(e.searchStyle)},[w(d(pe),{size:"small",clearable:!0,modelValue:i.value,validateEvent:!1,prefixIcon:d(de),placeholder:e.filterPlaceholder,"onUpdate:modelValue":L},null,8,["modelValue","prefixIcon","placeholder"])],4)):B("",!0),$(e.$slots,"tabRightExtra")],4)):B("",!0),H("div",Pe,[y.value&&y.value.length?(n(),p("div",{key:0,class:"ele-icon-select-menus",style:g(e.menusStyle)},[(n(!0),p(U,null,A(y.value,(o,s)=>(n(),p("div",{key:s+"-"+o,class:M(["ele-icon-select-menu",{"is-active":s===a.value}]),onClick:D=>ae(s)},X(o),11,je))),128))],4)):B("",!0),w(ke,{data:b.value,icon:e.modelValue,emptyProps:e.emptyProps,tooltip:e.tooltip,tooltipProps:e.tooltipProps,popperVisible:f.value,gridStyle:e.gridStyle,itemStyle:e.itemStyle,style:g(e.bodyStyle),onSelect:oe},K({_:2},[e.$slots.icon?{name:"icon",fn:k(o=>[$(e.$slots,"icon",ve(me(o||{})))]),key:"0"}:void 0]),1032,["data","icon","emptyProps","tooltip","tooltipProps","popperVisible","gridStyle","itemStyle","style"])])],4)]),_:2},[e.modelValue&&e.$slots.icon?{name:"prefix",fn:k(()=>[$(e.$slots,"icon",{icon:e.modelValue,prefix:!0})]),key:"0"}:void 0]),1032,["value","disabled","size","clearable","placeholder","automaticDropdown","filterable","teleported","persistent","placement","transition","popperWidth","popperOptions","popperClass","selectStyle","inputStyle","selectTagsStyle","selectedLabel","visible"]))}}),Ee=Object.assign({name:"IconSelect"},{__name:"index",props:J,emits:W,setup(l,{emit:O}){const P=O,{emitMethods:t}=ye(W,P),v=he();return(S,j)=>{const m=be,f=Be;return n(),R(f,N(S.$props,{data:d(v),"onUpdate:modelValue":d(t)["update:modelValue"],onChange:d(t).change,onVisibleChange:d(t).visibleChange,onClear:d(t).clear,onFocus:d(t).focus,onBlur:d(t).blur}),{icon:k(({icon:r})=>[w(m,null,{default:k(()=>[(n(),R(ge(r)))]),_:2},1024)]),_:1},16,["data","onUpdate:modelValue","onChange","onVisibleChange","onClear","onFocus","onBlur"])}}});export{Be as _,Ee as a};
